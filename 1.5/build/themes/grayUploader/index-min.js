/*!build time : 2013-09-24 6:44:50 PM*/
KISSY.add("gallery/uploader/1.5/themes/grayUploader/index",function(a,b,c){function d(a){var b=this;d.superclass.constructor.call(b,a)}var e=b.all;return a.extend(d,c,{render:function(){var a=this;d.superclass.render.call(a)},_addHandler:function(a){var b=this,c=a.file,d=c.id,f=c.target,g=e(".J_ActionBar_"+d);f.on("mouseenter mouseleave",function(a){"mouseenter"==a.type?(g.slideDown(.3),b._setDisplayMsg(!0,c)):(g.slideUp(.3),b._setDisplayMsg(!1,c))});var h=e(".J_Del_"+d);h.data("data-file",c),h.on("click",b._delHandler,b);var i=e(".J_Zoom_"+d);i.on("click",function(){});var j=e(".J_Pic_"+d);j.show()},_errorHandler:function(b){var c=this,d=b.msg,f=b.file;if(a.log(d),!f)return!1;var g=f.id;e(".J_ErrorMsg_"+g).html("\u4e0a\u4f20\u5931\u8d25"),a.later(function(){var a=c.get("uploader"),b=a.get("queue");b.remove(g)},1e3)},_successHandler:function(a){var b=this,c=a.file,d=c.id,f=c.result;b._setCount(),f&&b._changeImageSrc(a),e(".J_Mask_"+d).hide();var g=b.get("uploader"),h=g.getPlugin("proBars");if(!h){var i=c.target;if(!i)return!1;i.all(".J_ProgressBar_"+d).hide()}},_setDisplayMsg:function(a,b){if(!b)return!1;var c=e(".J_Mask_"+b.id);return c.parent("li")&&c.parent("li").hasClass("error")?!1:(c[a&&"fadeIn"||"fadeOut"](.3),void 0)}},{ATTRS:{name:{value:"grayUploader"},fileTpl:{value:'<li id="queue-file-{id}" class="g-u" data-name="{name}"><div class="pic-wrapper"><div class="pic"><span><img class="J_Pic_{id} preview-img" src="" /></span></div><div class=" J_Mask_{id} pic-mask"></div><div class="status-wrapper J_FileStatus"><div class="status waiting-status"><p>\u7b49\u5f85\u4e0a\u4f20</p></div><div class="status start-status progress-status success-status"><div class="J_ProgressBar_{id}">\u4e0a\u4f20\u4e2d...</div></div><div class="status error-status"><p class="J_ErrorMsg_{id}">\u4e0a\u4f20\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5\uff01</p></div></div></div><div class="action-bar J_ActionBar_{id} grid"><a class="g-u J_Del_{id}" href="#nowhere" title="\u5220\u9664"><span class="icon del-icon">\u5220\u9664</span></a><a class="g-u J_Zoom_{id}" data-id="{id}" href="#nowhere" title="\u653e\u5927"><span class="icon zoom-icon">\u653e\u5927</span></a></div></li>'}}}),d},{requires:["node","gallery/gallery/uploader/1.4/themes/imageUploader/index"]});